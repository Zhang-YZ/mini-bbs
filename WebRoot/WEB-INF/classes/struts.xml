<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts PUBLIC
    "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
    "http://struts.apache.org/dtds/struts-2.0.dtd">

<struts>
	<constant name="struts.objectFactory" value="spring" />

	<package name="default" extends="struts-default">

		<action name="hasLogin" class="userAction" method="hasLogin">
			<result name="success">/index.jsp</result>
			<result name="input">/login.jsp</result>
		</action>

		<!-- 登录页面 -->
		<action name="signin" class="userAction" method="signin">
			<result name="success" type="chain">
				<param name="actionName">getThemeTable</param> 
			</result>
			<result name="input">/login.jsp</result>
		</action>
		<action name="reset" class="userAction" method="reset">
			<result name="success"></result>
			<result name="input"></result>
		</action>
		<action name="signup" class="userAction" method="signup">
			<result name="success">/login.jsp?signup=true</result>
			<result name="input">/login.jsp?info=true</result>
		</action>




		<!-- index -->
		<action name="getThemeTable" class="themeAction"
			method="getTimeDescThemes">
			<result name="success">/index.jsp</result>
		</action>

		<action name="createTheme" class="themeAction"
			method="createTheme">
			<result name="success" type="chain">
				<param name="actionName">getThemeTable</param>
			</result>
			<result name="tologin">/login.jsp</result>
			<result name="input">/index.jsp</result>
		</action>	




		<action name="getTheme" class="themeAction" method="getTheme">
		</action>
		
		<action name="getPosts" class="postAction" method="getPostsByTheme">
		<result name="success">/detail.jsp</result>
		</action>
		
		<action name="addPost" class="postAction" method="addPost">
		</action>
		
		<action name="gotodetail" class="themeAction" method="gotoDetail">
		<result name="success" type="chain">
			<param name="actionName">getPosts</param>
		</result>
		</action>

	</package>
</struts>